{"version":3,"file":"RushPluginsConfiguration.js","sourceRoot":"","sources":["../../src/api/RushPluginsConfiguration.ts"],"names":[],"mappings":";AAAA,4FAA4F;AAC5F,2DAA2D;;;;;;;;;;;;;;;;;;;;;;;;;;AAE3D,2CAA6B;AAC7B,oEAAgF;AAkBhF,MAAa,wBAAwB;IAQnC,YAAmB,YAAoB;QACrC,IAAI,CAAC,aAAa,GAAG,YAAY,CAAC;QAClC,IAAI,CAAC,6BAA6B,GAAG;YACnC,OAAO,EAAE,EAAE;SACZ,CAAC;QAEF,IAAI,8BAAU,CAAC,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,EAAE;YACzC,IAAI,CAAC,6BAA6B,GAAG,4BAAQ,CAAC,eAAe,CAC3D,IAAI,CAAC,aAAa,EAClB,wBAAwB,CAAC,WAAW,CACrC,CAAC;SACH;IACH,CAAC;IAED,IAAW,aAAa;QACtB,OAAO,IAAI,CAAC,6BAA6B,CAAC;IAC5C,CAAC;;AAxBH,4DAyBC;AAxBgB,oCAAW,GAAe,8BAAU,CAAC,QAAQ,CAC1D,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE,IAAI,EAAE,SAAS,EAAE,0BAA0B,CAAC,CAClE,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved. Licensed under the MIT license.\n// See LICENSE in the project root for license information.\n\nimport * as path from 'path';\nimport { FileSystem, JsonFile, JsonSchema } from '@rushstack/node-core-library';\n\n/**\n * @internal\n */\nexport interface IRushPluginConfigurationBase {\n  packageName: string;\n  pluginName: string;\n}\n\nexport interface IRushPluginConfiguration extends IRushPluginConfigurationBase {\n  autoinstallerName: string;\n}\n\ninterface IRushPluginsConfigurationJson {\n  plugins: IRushPluginConfiguration[];\n}\n\nexport class RushPluginsConfiguration {\n  private static _jsonSchema: JsonSchema = JsonSchema.fromFile(\n    path.join(__dirname, '..', 'schemas', 'rush-plugins.schema.json')\n  );\n\n  private _rushPluginsConfigurationJson: IRushPluginsConfigurationJson;\n  private _jsonFilename: string;\n\n  public constructor(jsonFilename: string) {\n    this._jsonFilename = jsonFilename;\n    this._rushPluginsConfigurationJson = {\n      plugins: []\n    };\n\n    if (FileSystem.exists(this._jsonFilename)) {\n      this._rushPluginsConfigurationJson = JsonFile.loadAndValidate(\n        this._jsonFilename,\n        RushPluginsConfiguration._jsonSchema\n      );\n    }\n  }\n\n  public get configuration(): Readonly<IRushPluginsConfigurationJson> {\n    return this._rushPluginsConfigurationJson;\n  }\n}\n"]}